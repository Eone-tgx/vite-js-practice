{"version":3,"file":"pixabay.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/main-pixabay.js"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    key: '48830775-40ff68ea61f2bc47ba43ee541',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  },\n});\n\nexport function getImagesByQuery(query) {\n  return instance\n    .get('', { params: { q: query } })\n    .then(res => res.data.hits)\n    .catch(error => {\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  overlayOpacity: 0.8,\n  showCounter: false,\n});\n\nconst refs = {\n  galleryList: document.querySelector('.gallery'),\n  loader: document.querySelector('#loader'),\n};\n\nexport function createGallery(images) {\n  const markup = images\n    .map(image => {\n      return `<a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        <div class=\"image-info\">\n          <p><strong>Likes:</strong> ${image.likes}</p>\n          <p><strong>Views:</strong> ${image.views}</p>\n          <p><strong>Comments:</strong> ${image.comments}</p>\n          <p><strong>Downloads:</strong> ${image.downloads}</p>\n        </div>\n      </a>`;\n    })\n    .join('');\n\n  refs.galleryList.innerHTML = markup;\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  refs.galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n","import { getImagesByQuery } from './pixabay-api.js';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  form: document.querySelector('.pixabay-form'),\n};\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  clearGallery();\n\n  const query = e.target.elements['search-text'].value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: 'Alert',\n      message: 'Enter text',\n      position: 'topRight',\n      timeout: 3000,\n    });\n    return;\n  }\n\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(response => {\n      hideLoader();\n\n      if (response.length === 0) {\n        iziToast.error({\n          title: 'Sorry',\n          message: 'Nothing was found',\n          position: 'topRight',\n          timeout: 3000,\n        });\n        return;\n      }\n\n      iziToast.success({\n        title: 'Success',\n        message: `Successfully searched images of ${query}`,\n        position: 'topRight',\n        timeout: 3000,\n      });\n\n      createGallery(response);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n        position: 'topRight',\n        timeout: 3000,\n      });\n    });\n\n  e.target.reset();\n});\n"],"names":["instance","axios","getImagesByQuery","query","res","error","lightbox","SimpleLightbox","refs","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","e","iziToast","response"],"mappings":"gJAEA,MAAMA,EAAWC,EAAM,OAAO,CAC5B,QAAS,2BACT,OAAQ,CACN,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACH,CAAC,EAEM,SAASC,EAAiBC,EAAO,CACtC,OAAOH,EACJ,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGG,CAAK,EAAI,EAChC,KAAKC,GAAOA,EAAI,KAAK,IAAI,EACzB,MAAMC,GAAS,CACd,MAAMA,CACZ,CAAK,CACL,CCjBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,eAAgB,GAChB,YAAa,EACf,CAAC,EAEKC,EAAO,CACX,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IAAIE,GACI,YAAYA,EAAM,aAAa;AAAA,oBACxBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,uCAEnBA,EAAM,KAAK;AAAA,uCACXA,EAAM,KAAK;AAAA,0CACRA,EAAM,QAAQ;AAAA,2CACbA,EAAM,SAAS;AAAA;AAAA,WAGrD,EACA,KAAK,EAAE,EAEVJ,EAAK,YAAY,UAAYG,EAE7BL,EAAS,QAAO,CAClB,CAEO,SAASO,GAAe,CAC7BL,EAAK,YAAY,UAAY,EAC/B,CAEO,SAASM,GAAa,CAC3BN,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASO,GAAa,CAC3BP,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CCnCA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,eAAe,CAC9C,EAEAA,EAAK,KAAK,iBAAiB,SAAUQ,GAAK,CACxCA,EAAE,eAAc,EAChBH,IAEA,MAAMV,EAAQa,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OACrD,GAAI,CAACb,EAAO,CACVc,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,aACT,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CAEDH,IAEAZ,EAAiBC,CAAK,EACnB,KAAKe,GAAY,CAGhB,GAFAH,IAEIG,EAAS,SAAW,EAAG,CACzBD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oBACT,SAAU,WACV,QAAS,GACnB,CAAS,EACD,MACD,CAEDA,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,mCAAmCd,CAAK,GACjD,SAAU,WACV,QAAS,GACjB,CAAO,EAEDM,EAAcS,CAAQ,CAC5B,CAAK,EACA,MAAMb,GAAS,CACdY,EAAS,MAAM,CACb,MAAO,QACP,QAASZ,EAAM,QACf,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EAEHW,EAAE,OAAO,OACX,CAAC"}